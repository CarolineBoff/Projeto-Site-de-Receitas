@use 'variables' as *;

// Galeria responsiva em grade com thumbnails quadrados
.grid-galeria {
    display: grid;
    /* células responsivas: ocupam no mínimo 160px, crescem para preencher */
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 18px;
    align-items: start;
    grid-auto-flow: row dense; // preenche lacunas quando houver itens de tamanhos variados
}

/* Figura/card da foto */
.foto {
    background-color: $cor-branco;
    border-radius: $border-radius;
    box-shadow: 0 4px 15px $cor-sombra;
    overflow: hidden;
    display: flex;
    flex-direction: column;

    /* Remove margens default de figure */
    margin: 0;

    img {
        width: 100%;
        /* garante formato quadrado e permite object-fit para recorte bonito */
        aspect-ratio: 1 / 1;
        height: auto; /* o aspect-ratio define a altura */
        object-fit: cover;
        display: block; /* remove espaços em branco de linha */
        transition: transform 0.35s ease, filter 0.35s ease;
    }

    figcaption {
        padding: 12px 10px;
        font-weight: 600;
        text-align: center;
        color: $cor-principal;
        background: transparent;
    }

    &:hover {
        img {
            transform: scale(1.06);
        }
    }
}

/* Em telas maiores, dar thumbnails um pouco maiores */
@media (min-width: 1000px) {
    .grid-galeria {
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    }
}

/* Compatibilidade: se navegador não suportar aspect-ratio, podemos garantir altura fixa como fallback */
@supports not (aspect-ratio: 1 / 1) {
    .foto img {
        height: 200px;
        width: 100%;
        object-fit: cover;
    }
    @media (min-width: 1000px) {
        .foto img { height: 260px; }
    }
}